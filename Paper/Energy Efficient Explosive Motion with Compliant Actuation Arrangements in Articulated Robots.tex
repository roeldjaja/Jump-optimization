%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%2345678901234567890123456789012345678901234567890123456789012345678901234567890
%        1         2         3         4         5         6         7         8

\documentclass[letterpaper, 10 pt, conference]{ieeeconf}  % Comment this line out if you need a4paper

%\documentclass[a4paper, 10pt, conference]{ieeeconf}      % Use this line for a4 paper

\IEEEoverridecommandlockouts                              % This command is only needed if 
                                                          % you want to use the \thanks command

\overrideIEEEmargins                                      % Needed to meet printer requirements.



% See the \addtolength command later in the file to balance the column lengths
% on the last page of the document

% The following packages can be found on http:\\www.ctan.org
%\usepackage{graphics} % for pdf, bitmapped graphics files
%\usepackage{epsfig} % for postscript graphics files
%\usepackage{mathptmx} % assumes new font selection scheme installed
%\usepackage{times} % assumes new font selection scheme installed
\usepackage{amsmath} % assumes amsmath package installed
\usepackage{amssymb}  % assumes amsmath package installed
\usepackage{accents}
\usepackage{graphicx}
\usepackage[font=small,labelfont=bf]{caption}
\usepackage{subcaption}
\usepackage{float}
%\usepackage{framed}
\usepackage{cite}

\title{\LARGE \bf
Explosive Motion with Compliant Actuation Arrangements in Articulated Robots
}


\author{Roel Djajadiningrat$^{1}$, Wesley Roozing$^{2}$ and Nikolaos G. Tsagarakis$^{2}$% <-this % stops a space
\thanks{$^{1}$ Roel Djajadiningrat is a M.Sc student at the Department of Mechanical Engineering, TU Delft and a visiting student at Istituto Italiano di Tecnologia;
        {\tt\ r.djajadiningrat@student.tudelft.nl}
  }%
\thanks{$^{2}$Wesley Roozing and Nikolaos G. Tsagarakis are with the Department of Advanced Robotics,
	(Fondazione) Istituto Italiano di Tecnologia, via Morego,
	30, 16163 Genova, Italy.
        {\tt\ \{wesley.roozing, nikos.tsagarakis\}@iit.it}
     }%
}


\begin{document}



\maketitle
\thispagestyle{empty}
\pagestyle{empty}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{abstract}

This paper presents the trajectory and elastic element pretensions optimisation for a jumping motion of a 3-DoF leg using recently introduced asymmetric compliant actuator configurations which provide actuation for explosive motions. Two actuation branches
with significantly different stiffness and energy storage capacity properties driving a single joint make up the actuator design. An optimisation problem is formulated to optimise the elastic element pretensions and the joint trajectories for vertical jumping motions. Several configurations of the asymmetric compliant actuators have been investigated. Optimization studies of the jumping motions demonstrate that a biarticulated configuration of the assymmetric compliant actuators yields the best results of all configurations compared in terms of jumping the largest vertical distance and reaching the highest net joint power. The leg jumps almost 4\% higher with a monoarticulated configuration and over 10\% higher with a biarticulated configuration compared to a configuration without the asymmetric compliant actuators.

\end{abstract}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{INTRODUCTION}

In the past robot applications were found predominantly in static industrial settings, but over the past years robots have been introduced to more dynamic settings, operating with and among humans. This change in application is accompanied by a change in requirements on robots. One of the primary challenges today is letting robots match human-like behaviour in terms of motion. This requires light-weight actuation systems that allow for energy efficient explosive motion, large  instantaneous  forces  with  short  duration, and matching motion planning and control. A prime example of an exacting explosive motion is the vertical jump.
\\
Several approaches have been investigated over the years to design robotic systems capable of energy efficient explosive motion. The use of sensorization of moving parts of rigid machines and active control tends to be costly, encombrant, and unreliable. Therefore, often systems with compliant properties are used. The `Bow Leg' hopping robot is a compliant hopping leg with a curved leaf spring made of laminated fibreglass and strings that hold the leg in compression to store elastic energy which shows us that low power motors  can  be  competent  for  actuation \cite{zeglin1999bow}. A small bipedal jumping robot called `Mowgli' uses compliant muscles antagonistic to its pneumatic artificial muscles made of rubber tubes in order to simplify its body while being able to store and release energy rapidly enabling it to jump as high as 0.5 m \cite{niiyama2007mowgli}. A switchable form of Parallel Elastic Actuation (\textit{PEA}) has shown to utilize the benefits of compliant properties whilst maintaining a high degree of control when the compliance is not needed \cite{liu2015spear}. The introduction of Series Elastic Actuation (\textit{SEA}) ensured more accurate and stable force control leading to increased energy efficiency over \textit{PEA} \cite{pratt1995series,yesilevskiy2015comparison}.
Further optimisation of synchronized variation of stiffness and velocity for movement
in the shortest time while limiting possible impact forces has been reached using Variable Stiffness Actuation (\textit{VSA}) \cite{garabini2011optimality} and the importance of the optimisation of joint trajectories besides the actuation parameters has been shown to be a major factor in the increase of energy efficiency \cite{velasco2013soft}. Also bi-articulation, spanning multiple joints simultaneously with a single muscle as is seen in nature, increases energy efficiency drastically \cite{schenau1989rotation,prilutsky1994tendon}. Comparative jumping experiments with single actuator bi-articulated robots opposed to multiple actuator robots show increased performance in jumping for bi-articulation configurations \cite{oshima2007jumping,babivc2009biarticulated,hyon2002development}. \\
More recently, Roozing et al. \cite{roozing2016design,roozing2016development} presented the development and control of a novel asymmetric antagonistic actuation scheme characterised by large energy storage capacity that enables efficient execution of motions, as well as a novel method to select the design parameters of asymmetric
compliant actuation (\textit{ACA}) schemes to improve the energy efficiency of multi-DoF articulated robots powered by this type of actuators. This paper extends these previous works and contributes by using the \textit{ACA} design to execute optimal explosive vertical jumping motions submitted to different objectives concerning jump height and energy efficiency. An optimisation problem is formulated to optimise the joint trajectories for energy efficient vertical jumping motions of a 3-DoF leg and three different configurations of the \textit{ACA}'s are investigated.\\
The paper is structured as follows. Section \ref{sec:legDesign} describes a 3-DoF leg model, the asymmetric actuation and three different actuation configurations used to demonstrate the effectiveness of the \textit{ACA} design for the execution of energy efficient explosive motions. Section \ref{sec:dynamicModel} describes the dynamics of the leg and the dynamic computations performed to aid the jumping motion optimisation. Section \ref{sec:dynamicOptimisation} describes the optimisation parameters, the objective criteria and the optimisation algorithm. The optimisation results are presented in Section \ref{sec:results} followed by a discussion of results in Section \ref{sec:discussion} and conclusions in Section \ref{sec:conclusions}.


\section{Leg Design } \label{sec:legDesign}

\subsection{Leg model}

The design of the 3-DoF leg model is inspired by the human lower limb. The dimensions and mass distribution of the human limb were investigated, and compared with those of existing humanoid designs such as WALK-MAN \cite{tsagarakis2017walk} to set specifications for a semi-anthropomorphic design. The leg, shown in Fig. \ref{fig:configurations}, features three actuated degrees of freedom: ankle, knee and hip. \textit{SEA}'s drive the joints, which are mounted above the joints for the knee and ankle and transmit their forces through four bar linkages to decrease the legâ€™s moment of inertia with respect to the hip joint. The trunk is weighted with mass corresponding to that of a full humanoid robot.

\subsection{Assymmetric Compliant Actuation}

For the concept of Assymetric Compliant Actuation, or \textit{ACA}, a combination of two parallel actuation branches with very different power and stiffness properties is used as shown in Fig. \ref{fig:ACA}.


%%% Figure assymmetric compliant actuation branches

\begin{figure}[b]
	\centering
	\includegraphics[scale=1.0]{actuationConcept}
	\caption{ACA branches}
	\label{fig:ACA}
\end{figure}

 The Power Branch (\textit{PB}) is a rotary \textit{SEA} which consists of a high power motor \textit{M1} in series with a torsional elastic element \textit{SE}. The Energy Storage Branch (\textit{ESB}) consists of a lower power motor \textit{M2} with a high reduction linear transmission which transfers its power through a unidirectional series elastic element \textit{PE}.

\subsection{Configurations}
In nature, bi-articulated muscle structures, muscle structures that actuate multiple joints simultaneously, can be found on humans and other animals. An example of a bi-articulated muscle structure are the hamstrings, which span both the hip and knee joint. \textit{ACA}'s can be utilized to realize bi-articulated actuation by letting the \textit{PB} drive a joint directly, and letting the \textit{ESB} tendon span a second joint by means of a pulley. Bi-articulation is one of three actuation configurations of the leg considered for the jumping optimisation:

  \begin{enumerate}
	\item The \textit{ACA}'s are not considered and jumping optimisations are performed for the leg with fixed compliance SEA's only.
	\item The \textit{ACA}'s are introduced to perform jumping optimisations on a mono-articulated version of the leg. 
	\item A bi-articulated version of the leg is considered for optimisation.
\end{enumerate}
The leg actuation configurations are shown in Fig \ref{fig:configurations}. The designs of the actuation configurations have been optimised to select actuation
parameters that yield high electrical energy efficiency and reduction in peak torque and electrical power requirements \cite{roozing2016design}.


%%% Figure 3 actuation configurations

\begin{figure*}[ht]
	\centering
	\includegraphics[width=\linewidth]{3-DoF_leg_concept}
	\caption{Actuation configurations}
	\label{fig:configurations}
\end{figure*}

\section{Dynamic Model} \label{sec:dynamicModel}

\subsection{Forward Dynamics} 
The leg consists out of four links which are connected by the actuated ankle, knee and hip joints, denoted $q_1,q_2,q_3$, with torques $\tau_1,\tau_2,\tau_3$. % as shown in Fig. \ref{fig:leg}. 
The links have masses $m_1,m_2,m_3,m_4$ and rotational inertiae $J_1,J_2,J_3,J_4$. Their centre of mass (CoM) is assumed to be located on the line connecting the proximal and distal joints at a distance of $r_1,r_2,r_3,r_4$ from the proximal joint for all links except for the foot; the model includes a floating base to allow for realistic modelling of the ground reaction forces (GRF). Together, the configurations of the bodies describe the system:
 \begin{equation}
x = [x_1,y_1,\theta_1,x_2,y_2,\theta_2, x_3,y_3,\theta_3,x_4,y_4,\theta_4]^T. 
\end{equation}
The Euler-Lagrange formulism with generalised coordinates $\mathbf{q} \in \mathfrak{Q} \subset \mathfrak{R}^{6}$ is used to derive the dynamic equations for the system:
 \begin{equation}
\mathbf{q}=[x_1,y_1,\theta_1,q_1,q_2,q_3]^T \label{eq:q}
 \end{equation}
leading to:
 \begin{equation}
M(\mathbf{q})\mathbf{\ddot q} = \mathbf{\boldsymbol{\tau} + G(q)} - C\mathbf{(q,\dot q)\dot q -} D \mathbf{\dot q} + J_{GRF}^T \mathbf{F}_{GRF}  \label{eq:fwddyn}
 \end{equation}
Here, the damping matrix is denoted by $D = \text{diag} (0,0,0,d_1,d_2,d_3)$, the generalised actuation forces are denoted by $\boldsymbol{\tau} = [0,0,0,\tau_1,\tau_2,\tau_3]$, the generalised gravitational forces are denoted by $\mathbf{G(q)}$, the Coriolis matrix is denoted by $C\mathbf{(q, \dot q)}$ and the generalised inertia matrix is denoted by $M(\mathbf{q})$. The Jacobian for the heel and toe is denoted by $J_{GRF}^T$ and the ground forces in generalised coordinates are subsequently expressed as $J_{GRF}^T \mathbf{F}_{GRF}$. Spring-dampers define $\mathbf{F}_{GRF}$ in the vertical direction and Coulomb and viscous friction define the horizontal component, proportional to the vertical forces.
 
 %% Figure leg model
 %\begin{figure}[b]
 %	\centering
 %	\framebox{\parbox{3in}{Picture leg 
 %	}}
 %	%\includegraphics[scale=1.0]{figurefile}
 %	\caption{Leg model}
 %	\label{fig:leg}
 %\end{figure}
 
 
\subsection{Inverse Dynamics}
For formulation of the optimisation problem described in Sec. \ref{sec:dynamicOptimisation}, we first need to derive the inverse dynamics of the system in order to compute the applied active torques \cite{nakanishi2007inverse}. The configuration vector $\mathbf{q}$ can be split in its passive joint and active joint components:
 \begin{equation}
\mathbf{q} = \left[\mathbf{q}_p, \mathbf{q}_a\right]^T
\end{equation}
with
 \begin{equation}
\mathbf{q}_p = [x_1,y_1,\theta_1]^T, \quad  
\mathbf{q}_a = [q_1,q_1,q_3]^T.
\end{equation}
\noindent
Similarly, $\boldsymbol{\tau} = \left[\mathbf{0},\boldsymbol{\tau}_a\right]^T$.
Substituting these into \eqref{eq:fwddyn} yields:
\begin{equation}
\begin{aligned}
&\left[\begin{array}{cc}  
M_{pp} & M_{aa}\\
M_{ap} & M_{aa}
\end{array} \right]
\left[\begin{array}{c}  
\mathbf{\ddot q}_p\\
\mathbf{\ddot q}_a
\end{array} \right] +
\left[\begin{array}{c}  
\mathbf{B}_p \mathbf{(q,\dot q)}\\
\mathbf{B}_a \mathbf{(q,\dot q)}
\end{array} \right] 
=\\
&\left[\begin{array}{c}  
\mathbf{0}\\
\boldsymbol{\tau}_a
\end{array} \right] 
+
\left[\begin{array}{c}  
J_1\\
J_2
\end{array} \right] 
\mathbf{F}_{EXT}\mathbf{(q, \dot q)}
\end{aligned} \label{eq:ik}
\end{equation}		
Where $\mathbf{B}$ denotes the gravitational, Coriolis and damping forces. 
Rearranging \eqref{eq:ik} allows for an inverse formulation:
\begin{equation}
\begin{aligned}
&\left[\begin{array}{cc}  
M_{pp} & 0\\
M_{ap} &-I
\end{array} \right]
\left[\begin{array}{c}  
\mathbf{\ddot q}_p\\
\boldsymbol{\tau}_a
\end{array} \right] =\\ 
-&
\left[\begin{array}{c}  
M_{pa}\\
M_{aa}
\end{array} \right] 
\mathbf{\ddot q}_a-
\mathbf{B(q, \dot q)}+
J_{EXT}^T\mathbf{F}_{EXT}\mathbf{(q, \dot q)}.
\end{aligned}
\end{equation}	
An expression for the active torques is now easily achieved by inversion of the left-hand side mass matrix. 

\section{Dynamic Optimisation} \label{sec:dynamicOptimisation}

The search for an optimal motion requires finding active joint trajectories over time. Expressing these trajectories over time directly poses an extremely high dimensional optimisation problem which is laborious to solve. Consequently, the optimisation we wish to perform needs to be reformulated from a large scale trajectory optimal control problem into a lower-dimensional optimisation problem \cite{kaphle2008optimality}.


\subsection{Trajectory Parametrization}

One can use basis splines, or $B$-splines, combined with a time-scale factor to reduce the complex problem into a parameter optimisation \cite{ude2000planning,babivc2009biarticulated,wang1999weight,albro2001optimal}. A $B$-spline curve can be described by its basis functions $B_i(t)$ and control points $\mathbf{P}=\left[p_1,\dots,p_n\right]$ which are evenly spaced over time. The active joint trajectories are then computed:   
 \begin{equation}
q_a(t,p) = \sum_{i=1}^{n} B_i (t) p_i
\end{equation}
Using the control points as optimisation variables, an optimal set of control points can be determined and the corresponding $B$-splines yield optimal trajectories for the joint angle displacements, velocities and accelerations. 

\subsection{Pretension positions}

The series elastic element in the \textit{ACA} scheme described in Sec. \ref{sec:legDesign} can be set up with a pretension by deformation of the \textit{ESB} elastic element. The elastic element pretension is an interesting parameter to include in the optimisation as different pretensions will yield different jumping behaviour. The pretension can be defined with the pretension position $p$; the position of the elastic element attachment relative to its undeformed attachment position. For each actuation configuration described in Sec. \ref{sec:legDesign} an \textit{ESB} topology matrix $T \in \mathfrak{R}^{M x N}$ with $M=3$ actuators and $N=6$ leg DoFs is formulated to fully describe the location and articulation of all three \textit{ESB}s. For actuator $m$, a corresponding topology row vector $\mathbf{t}_m \in \mathfrak{R}^6$ from $T$ maps the positions of the leg DoFs to the deformation of the \textit{ESB} elastic element of that actuator:
\begin{equation}
\Delta_{p,m} = p_m + \mathbf{t}_m \mathbf{q}
\end{equation}
This formulation allows for the optimisation of $p_m$, with $m \in \{1,2,3\}$.

\subsection{Objective criteria}

The objective function is comprised out of three criteria which 1) reward the performance of the leg, 2) penalize excessive torque needed to complete a movement and 3) maintain the postural stability of the leg. A minimization of the objective functions with these criteria is represented by:   
 \begin{equation}
\min_{\mathbf{p}}\limits J =  J_{performance}+ J_{torque}+ J_{stability}
 \end{equation}
In the following objective criteria, $c_1$, $c_2$, $c_3$, $c_4$ and $c_5$ denote scaling constants.\\

\subsubsection{Performance}
%For the performance of the leg we distinguish two different objectives: 
%\begin{enumerate}
%	\item 
For the performance of the leg we consider the maximum jumping height, where the height is defined as the $y$-coordinate of the CoM of the leg with respect to the ground. The performance criterion yields:
 \begin{equation}
	J_{performance} = -c_1 \cdot y_{CoM}^2
 \end{equation}
%	\item Jumping to a certain height efficiently, where the maximum $y$-coordinate reached by the CoM of the leg $y_{COM}$ is to equal a set height $y_{COM}'$ and the energy use is to be minimized:
% \begin{equation}
%	J_{performance} =  c_1 \cdot E^2 + c_2 \cdot |y_{COM}'-y_{COM}|
% \end{equation}
%	Here, $E$ is defined as the cumulative electrical energy consumption in Joules according to the integrated positive power model \cite{verstraten2016energy}:
%	 \begin{equation}
%	E_{elec,pos} = \int max(0,P_{source}(t))dt
%	\end{equation}
%\end{enumerate}

\subsubsection{Torque}
The active torques pose a problem as the upper and lower bound constraints on the applied torques can become non-linear. Therefore it is chosen to express the torque limits by means of a penalty function in the objective criteria and to only terminate the simulation when the utmost torque limits are violated.
The active torque $\boldsymbol{\tau}_a$ is to be kept low and within the maximum and minimum deliverable torque. This is enforced by means of a penalty function which incorporates the 2-norm of the realised values of $\boldsymbol{\tau}_a$ computed in Section \ref{sec:dynamicModel} while eliminating the influence of the \textit{ESB}'s:  
 \begin{equation}
J_{torque}= c_2 \cdot || \boldsymbol{\tau}_a - \boldsymbol{\tau}_{ESB} ||_2^2
 \end{equation}

\subsubsection{Stability}
To ensure postural stability a stability criterion is introduced. The leg posture is considered stable when the $x$-coordinate of the CoM of the leg is equal to its initial $x$-coordinate at the end of the jump, i.e. when the CoM reaches its maximum height. Also, the motion is assumed to be stable when the mean value of the absolute x-coordinates of the CoM equals zero. Higher stability is also assumed for a low rotational momentum $L$ at maximum height of CoM. For an $N$ number of time segments, this is achieved with the minimization of:
 \begin{equation}
 \begin{aligned}
J_{stability} & =  c_3\cdot \Big( x_{CoM}(t_h)-x_{CoM}(t_s) \Big)^2  \\ & +c_4\cdot  {\sum^{N}_{i=1}\frac{| x_{CoM}(t)_i |}{N}}^2   
				  + c_5  \cdot   L(t_h)^2 
 \end{aligned}
 \end{equation}
 
Here, $t_s$ denotes the starting time and $t_h$ denotes the point in time where the CoM reaches its maximum height. Let $t_f$ denote the final time segment of the optimisation motion where either the maximum CoM height $y_{CoM}$ has been reached or the jump is unsuccessful and the leg has fallen over. For successful jumps $t_h=t_f$. \\

\subsection{Algorithm}

The objective criteria described above require information concerning the kinematic and dynamic state of the leg. Both forward and inverse dynamic calculations are to be performed while the leg states are set by adjusting the earlier described $B$-spline joint trajectories. This dependence is managed by the optimisation algorithm. The algorithm in words yields:\\

\begin{itemize}
	\item Provide initial guess trajectory and pretension positions
	\item Create control points\\
	\item[$\diamond$] Create trajectory with $B$-splines
	\item[$\diamond$] Check joint angles, continue if limits are not exceeded \\else, vary control points and repeat $\diamond$ steps
	\item[$\diamond$] Run simulation of motion through forward dynamics
	\item[$\diamond$] Calculate active torques through inverse dynamics,\\ continue if limits are not exceeded \\else, vary control points and repeat $\diamond$ steps
	\item[$\diamond$] Evaluate objective function\\
	\item[$\diamond$] Exit if local minimum is reached, \\ else, vary control points and pretension positions and repeat $\diamond$ steps
\end{itemize}

\section{Results} \label{sec:results}

The optimisation has been performed for the upward movement of the leg performing a jumping motion with a maximum duration of 0.4 seconds. The initial position of the leg yields a squatting posture and the optimisation is concluded when the CoM reaches its highest point for successful jumps or when the leg has fallen over for unsuccessful jumps. The initial guess is a manually constructed motion as shown in Fig. \ref{fig:seq} for actuation without energy storage branches. The optimization results for the objective presented in Section \ref{sec:dynamicOptimisation} are shown in Table \ref{maxheight}. For the three actuation configurations, Fig. \ref{fig:opt_results} displays the objective criterion values during the optimization, the joint torques, their net power and the \textit{ESB} tendon energy storage. %% verander subscript p in grafieken in ESB
 The video corresponding to this paper shows a visualization of the optimized jumping motion on all three actuation configurations.

% initial guess
  \begin{figure}[b]
	\centering
	%      \framebox{\parbox{3in}
	{\includegraphics[scale=0.5]{initialguess}
	}%}	
	\caption{Initial motion} \label{fig:seq}	
\end{figure}




\section{Discussion} \label{sec:discussion}

 For the optimized jumping motion similar strategies are used on all three actuation configurations; ankle extension is primarily used to generate an upwards motion from squat position, with lift-off following after a toe push-off. The pretension optimization results show maximum pretension of the \textit{ESB} on the bottom of the ankle for monoarticulation and the pretension of the \textit{ESB} on the bottom of the thigh for biarticulation. Although the movements are similar some key differences can be pointed out:
 \begin{enumerate}
 \item Fig. \ref{fig:noESB_q_1_torques} to \ref{fig:bi_q_1_torques} show that the \textit{PB} ankle torque used by the biarticulated configuration is significantly lower than that of the other configurations but its \textit{ESB} torque is significantly higher than that of the monoarticulated configuration resulting in the heighest ankle torque for biarticulation. 
 
\item While Fig. \ref{fig:noESB_q_2_torques} shows slightly higher peak \textit{PB} torques for the knee joint than the \textit{ESB} configurations in Fig. \ref{fig:mono_q_2_torques} and \ref{fig:bi_q_2_torques}, knee extension is nearly absent for the configuration without \textit{ESB}. The jumps with mono and biarticulation do show knee extension at approximately 0.2 seconds into the motion. Fig. \ref{fig:bi_q_2_torques} shows that this extension is preceded by counteracting \textit{PB} and \textit{ESB} torques. For the biarticulated configuration the \textit{PB} knee torque counteracts the \textit{ESB} torque after 0.1 seconds, but stops this counteraction instantly which allows for an explosive increase in torque around 0.2 seconds. This allows for explosive knee movement without exceeding torque limits.

\item The limitation by torque restriction for the configuration without \textit{ESB} is implied by Fig. \ref{fig:noESB_crit_high}, which shows an increase in the torque criterion resulting in a higher torque criterion than the legs with \textit{ESB} as shown in Table \ref{maxheight}. Restrictions in time and the number of control points may also be an influence on the moderate use of knee joint torque to execute the jump for the configuration without \textit{ESB}.

\item Whereas the configuration without \textit{ESB} and the monoarticulated configuration use hip extension extensively during the early stages of the upwards motion of the jump, Fig. \ref{fig:noESB_q_3_torques} to \ref{fig:bi_q_3_torques} show that the biarticulated configuration uses far less hip extension. The biarticulated leg extends its hip at the end of the upwards motion to increase its CoM height whereas the leg without \textit{ESB} flexes its hip to maintain upwards momentum.

\item Fig. \ref{fig:noESB_P_q} to \ref{fig:bi_P_q} show that the biarticulated configuration net joint power exceeds that of the other configurations. A comparison with Fig. \ref{fig:mono_ESB} and \ref{fig:bi_ESB} shows that for the \textit{ESB} configurations the largest change in power is largely synchronous with release of energy in the \textit{ESB} tendons.
\end{enumerate}

\section{Conclusions} \label{sec:conclusions} 

This paper has presented the trajectory and elastic element pretensions optimisation for the explosive jumping motion of a 3-DoF leg with using asymmetric compliant actuators in three different configurations. The results show improvements in terms of torque requirements of the main actuators, as well as interesting collaboration between the elastic elements and the main actuators in order to reach joint torques that allow for explosive motions.\\
The leg jumps almost 4\% higher with a monoarticulated configuration and over 10\% higher with a biarticulated configuration compared to a configuration without \textit{ESB}.\\
While these results are promising, experiments with an already existing hardware prototype undergoing mechanical revisions are still to be performed. Also, for this research only fixed pretension positions of the parallel branches have been used. The integration of variable pretension positions may allow for more accurate optimization. These developments and their results will be presented in future works.

\begin{table*}[ht]
	\caption{Jumping optimization results for different configurations}
	\label{maxheight}
	\begin{center}
		\begin{tabular}[t]{c||c|c|c|c|c|c|c}
			\textit{Articulation}	& \textit{Height} [m] & \textit{Pretension} [m] & \textit{f} & \textit{E}$_{\text{\textit{consumed}}}$ [J] & \textit{J}$_{\text{\textit{performance}}}$ & \textit{J}$_{\text{\textit{stability}}}$ & \textit{J}$_{\text{\textit{torque}}}$\\ 
			\hline
			SEA only& 0.917 & - &-370.26  & 805.66 & 426.16  &0.85  &   55.05\\
			\hline
			Mono &0.951 & 0.060, -0.014, 0  & -402.90 & 567.64& 451.77 & 1.26 &47.61 \\
			\hline
			Bi &1.013 & 0.044, 0.029, 0 & -478.73 & 867.35 & 526.27 & 0.96 & 46.58
		\end{tabular}
	\end{center}
\end{table*}

% Large figure with all the optimization results
\begin{figure*}[ht]
	\centering
	
	% Criteria evolution
	\begin{subfigure}[t]{0.32\linewidth}
		\includegraphics[width=\linewidth]{noESB/crit_high}
		\caption{No ESB: Criterion evolution.}
		\label{fig:noESB_crit_high}
	\end{subfigure}
	%
	\begin{subfigure}[t]{0.32\linewidth}
		\includegraphics[width=\linewidth]{mono/crit_high}
		\caption{Monoarticulated: Criterion evolution.}
		\label{fig:mono_crit_high}
	\end{subfigure}
	%
	\begin{subfigure}[t]{0.32\linewidth}
		\includegraphics[width=\linewidth]{bi/crit_high}
		\caption{Biarticulated: Criterion evolution.}
		\label{fig:bi_crit_high}
	\end{subfigure}
	
	\vspace{1mm}
	
	% Ankle torques
	\begin{subfigure}[t]{0.32\linewidth}
		\includegraphics[width=\linewidth]{noESB/q_1_torques}
		\caption{No ESB: Ankle ($q_1$) torques.}
		\label{fig:noESB_q_1_torques}
	\end{subfigure}
	%
	\begin{subfigure}[t]{0.32\linewidth}
		\includegraphics[width=\linewidth]{mono/q_1_torques}
		\caption{Monoarticulated: Ankle ($q_1$) torques.}
		\label{fig:mono__q_1_torques}
	\end{subfigure}
	%
	\begin{subfigure}[t]{0.32\linewidth}
		\includegraphics[width=\linewidth]{bi/q_1_torques}
		\caption{Biarticulated: Ankle ($q_1$) torques.}
		\label{fig:bi_q_1_torques}
	\end{subfigure}
	
	\vspace{1mm}
	
	% Knee torques
	\begin{subfigure}[t]{0.32\linewidth}
		\includegraphics[width=\linewidth]{noESB/q_2_torques}
		\caption{No ESB: Knee ($q_2$) torques.}
		\label{fig:noESB_q_2_torques}
	\end{subfigure}
	%
	\begin{subfigure}[t]{0.32\linewidth}
		\includegraphics[width=\linewidth]{mono/q_2_torques}
		\caption{Monoarticulated: Knee ($q_2$) torques.}
		\label{fig:mono_q_2_torques}
	\end{subfigure}
	%
	\begin{subfigure}[t]{0.32\linewidth}
		\includegraphics[width=\linewidth]{bi/q_2_torques}
		\caption{Biarticulated: Knee ($q_2$) torques.}
		\label{fig:bi_q_2_torques}
	\end{subfigure}
	
	\vspace{1mm}
	
	% Hip torques
	\begin{subfigure}[t]{0.32\linewidth}
		\includegraphics[width=\linewidth]{noESB/q_3_torques}
		\caption{No ESB: Hip ($q_3$) torques.}
		\label{fig:noESB_q_3_torques}
	\end{subfigure}
	%
	\begin{subfigure}[t]{0.32\linewidth}
		\includegraphics[width=\linewidth]{mono/q_3_torques}
		\caption{Monoarticulated: Hip ($q_3$) torques.}
		\label{fig:mono_q_3_torques}
	\end{subfigure}
	%
	\begin{subfigure}[t]{0.32\linewidth}
		\includegraphics[width=\linewidth]{bi/q_3_torques}
		\caption{Biarticulated: Hip ($q_3$) torques.}
		\label{fig:bi_q_3_torques}
	\end{subfigure}
	
	\vspace{1mm}
	
	% Net Joint power
	\begin{subfigure}[t]{0.32\linewidth}
		\includegraphics[width=\linewidth]{noESB/P_q}
		\caption{No ESB: Net joint power.}
		\label{fig:noESB_P_q}
	\end{subfigure}
	%
	\begin{subfigure}[t]{0.32\linewidth}
		\includegraphics[width=\linewidth]{mono/P_q}
		\caption{Monoarticulated: Net joint power}
		\label{fig:mono_P_q}
	\end{subfigure}
	%
	\begin{subfigure}[t]{0.32\linewidth}
		\includegraphics[width=\linewidth]{bi/P_q}
		\caption{Biarticulated: Net joint power}
		\label{fig:bi_P_q}
	\end{subfigure}
	
	\vspace{1mm}
	
	% ESB storage
	\begin{subfigure}[t]{0.32\linewidth}
		\centering
		\raisebox{0pt}[0pt][0pt]{%
			\raisebox{15mm}{\texttt{~~No ESB tendons.}}%
		}
	\end{subfigure}
	%
	\begin{subfigure}[t]{0.32\linewidth}
		\includegraphics[width=\linewidth]{mono/ESB_storage}
		\caption{Monoarticulated: Tendon energy storage.}
		\label{fig:mono_ESB}
	\end{subfigure}
	%
	\begin{subfigure}[t]{0.32\linewidth}
		\includegraphics[width=\linewidth]{bi/ESB_storage}
		\caption{Biarticulated: Tendon energy storage.}
		\label{fig:bi_ESB}
	\end{subfigure}
	
	\caption{Optimization results. Left column: without ESB (conventional SEA), middle column: monoarticulated configuration, right column: biarticulated configuration.}
	\label{fig:opt_results}
\end{figure*}



\addtolength{\textheight}{-0cm}   % This command serves to balance the column lengths
                                  % on the last page of the document manually. It shortens
                                  % the textheight of the last page by a suitable amount.
                                  % This command does not take effect until the next page
                                  % so it should come on the page before the last. Make
                                  % sure that you do not shorten the textheight too much.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\section{ACKNOWLEDGMENT}
Supported by European Commission projects WALK-MAN (611832), CENTAURO (644839), CogIMon (644727)


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\bibliographystyle{ieeetran}
\bibliography{lit}
\end{document}
